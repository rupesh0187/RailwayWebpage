@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Train Ticket Booking</title>
    <link rel="stylesheet" href="Style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/themes/6.7.0/default/default-ocean-blue.css" />

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2023.2.829/js/kendo.all.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.js"></script>
    <script src="~/js/cascade.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins',sans-serif;
        }

        .navbar {
            display: flex;
            align-items: center;
            padding: 20px;
        }

        nav {
            flex: 1;
            text-align: right;
        }

            nav ul {
                display: inline-block;
                list-style-type: none;
            }

                nav ul li {
                    display: inline-block;
                    margin-right: 20px;
                }

        a {
            text-decoration: none;
            color: #555;
        }

        p {
            color: #555;
        }

        .container {
            max-width: 1300px;
            margin: auto;
            padding-left: 25px;
            padding-right: 25px;
        }

        .row {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            justify-content: space-around;
        }

        .col-2 {
            flex-basis: 50%;
            min-width: 300px;
        }

            .col-2 img {
                max-width: 100%;
                padding: 50px 0;
            }

            .col-2 h1 {
                font-size: 50px;
                line-height: 60px;
                margin: 25px 0;
            }

        .btn {
            display: inline-block;
            background: #453bff;
            color: #fff;
            padding: 8px 30px;
            margin: 30px 0;
            border-radius: 30px;
            transition: background 0.5s;
        }

        .Header {
            background: radial-gradient(#fff,#d6e9ff);
        }

            .header .row {
                margin-top: 70px;
            }

        .btn:hover {
            background: #563434;
        }


        .footer {
            background: #000;
            color: #8a8a8a;
            font-size: 14px;
            padding: 60px 0 20px;
        }

            .footer p {
                color: #8a8a8a;
            }

            .footer h3 {
                color: #fff;
                margin-bottom: 20px;
            }

        .footer-col-1, .footer-col-2, .footer-col-3, .footer-col-4 {
            min-width: 250px;
            margin-bottom: 20px;
        }

        .footer-col-1 {
            flex-basis: 30%;
        }

        .footer-col-2 {
            flex: 1;
            text-align: center;
        }

            .footer-col-2 img {
                width: 180px;
                margin-bottom: 20px;
            }

        .footer-col-3, .footer-col-4 {
            flex-basis: 12%;
            text-align: center;
        }

        ul {
            list-style-type: none;
        }

        .app-logo {
            margin: top 20px;
            ;
        }

            .app-logo img {
                width: 140px;
            }

        .footerhr {
            border: none;
            background: #b5b5b5;
            height: 1px;
            margin: 20px 0;
        }

        .copyright {
            text-align: center;
        }

        #btn-decrease {
            font-size: 12px;
        }

        #btn-orig {
            font-size: 14px;
        }

        #btn-increase {
            font-size: 12px;
        }

        span {
            align-items: center;
        }

    </style>



</head>
<body>
    <div class="Header">

        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <img src="/lib/train-16-512.png" alt="" width="100px" height="100px">
                </div>
                <div>
                    <h1 id="test">Train Ticket Booking</h1>
                </div>

                <nav>
                    <ul>

                        <li><button id="btn-decrease" class="btn btn-default" type="button"><i class="fa fa-font" aria-hidden="true"></i>-</button></li>
                        <li><button id="btn-orig" class="btn btn-default" type="button"><i class="fa fa-font" aria-hidden="true"></i></button></li>
                        <li><button id="btn-increase" class="btn btn-default" type="button"><i class="fa fa-font" aria-hidden="true"></i>+</button></li>


                        <li><a href="">Home</a></li>
                        <li><a href="">Products</a></li>
                        <li><a href="">About</a></li>
                        <li><a href="">Contact</a></li>
                        <li><a href="">Account</a></li>
                    </ul>
                </nav>
                <img src="/cart.png" width="30px" height="30px">
            </div>
            <div class="row">

                <div class="col-2">
                    <img src="/lib/train-16-512.png" />

                </div>
                <div class="col-2">
                    <div class="form-container">
                        <div class="form-btn">
                            <span><strong><center>Search Train</center></strong></span>
                            <hr id="Indicator" />
                        </div>

                        <form id="Booking">
                            <div class="row mt-2">
                                <div class="col-md-6">
                                    <div class="form-control">
                                        <label for="From" class="form-label text-success"><b>FROM</b></label>
                                        <select class="form-control" id="From" name="From">
                                            <option>----Select Station ----</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-6">
                                    <div class="form-control">
                                        <label for="To" class="form-label text-success"><b>TO</b></label>
                                        <select class="form-control" id="To" name="To">
                                            <option>----Select Station------</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-2" style="display:None">
                                <div class="col-md-6">
                                    <div class="form-control">
                                        <label for="Name" class="form-label text-success"><b>Train Name</b></label>
                                        <select class="form-control" id="Trainno" name="Trainid">
                                            <option>----Select train ----</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-6">
                                    <div class="form-control">
                                        <label for="class" class="form-label text-success"><b>Class</b></label>
                                        <select class="form-control" id="class" name="class">
                                            <option>-------------Select Class------------</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-2" style="display:None">
                                <div class="col-md-6">
                                    <div class="form-control">
                                        <label for="Name" class="form-label text-success"><b>price</b></label>
                                        <select class="form-control" id="price" name="price">
                                            <option>----Select price----</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-6">
                                    <div class="form-control">
                                        <label for="Name" class="form-label text-success"><b>Date_Of_Travel</b></label>
                                        <input type="date" class="form-control" id="comp" placeholder="Date_Of_Journey">
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-success text-center" id="subBtn"  onsubmit="DropDown()">Search Train</button> &nbsp;&nbsp;&nbsp;&nbsp;
                            <button type="reset" class="btn btn-primary text-center">Reset</button>

                        </form>

                    </div>
                </div>

            </div>
            <div class="row">


                <div id="myGrid" class="ag-theme-alpine" style="height: 300px; width:1100px;"></div>



            </div>
        </div>
    </div>


    <!-- ---------------Footer------------------------- -->
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-col-1">
                    <h3>Download Our App</h3>
                    <p>Download App for Android and ios Mobile Phone.</p>
                    <div class="app-logo">
                        <img src="/lib/play-store.png" alt="">
                        <img src="/lib/app-store.png" alt="">
                    </div>
                </div>
                <div class="footer-col-2">
                    <img src="/lib/train-16-512.png" alt="">
                    <p>Our Purpose Is To Sustainably make the pleasure and benfits of Sports Accessible to the Many.</p>
                </div>
                <div class="footer-col-3">
                    <h3>Useful Links</h3>
                    <ul>
                        <li>Coupons</li>
                        <li>Blog Post</li>
                        <li>Return Policy</li>
                        <li>Join Affiliate</li>
                    </ul>
                </div>
                <div class="footer-col-4">
                    <h3>Follow us</h3>
                    <ul>
                        <li>Facebook</li>
                        <li>Twitter</li>
                        <li>Instagram</li>
                        <li>You Tube</li>
                    </ul>
                </div>
            </div>
            <hr>
            <br>
            <p class="copyright">Copyright 2023 - Rupesh Ranjan</p>
        </div>
    </div>


    <script>
        var gridOptions = {
            columnDefs: [
                //{ field: 'Id', headerName: 'Student-Id' },
                { field: 'from', headerName: 'From', maxWidth: 200 },
                { field: 'to', headerName: 'To', maxWidth: 200 },
                { field: 'trainname', headerName: 'Train Name', maxWidth: 200 },
                { field: 'class', headerName: 'class', maxWidth: 200 },
                { field: 'price', headerName: 'Price', maxWidth: 200 },
                { field: 'date', headerName: 'Date of jounery', maxWidth: 200 },

                {
                    headerName: "Book now",
                    field: "",
                    cellRenderer: function (params) {
                        // Construct the href link using the controller and action method
                        var link = '<a href="/Cascade/booking">book now</a>';
                        return link;
                    }
                },

            ],
            defaultColDef: {
                sortable: true,
                filter: true,
                editable: true,
            },

            // onCellValueChanged: function (params) {
            //     $.ajax({
            //         url: '/Home/EditEmployee',
            //         type: 'put',
            //         data: params.data,
            //         success: function (response) {
            //             if (response.success) {

            //             }
            //             else {

            //             }
            //         },
            //         error: function () {

            //         }
            //     });
            // }


        };

        const eGridDiv = document.getElementById("myGrid");

        new agGrid.Grid(eGridDiv, gridOptions);

        // function Deleteitem(Id) {
        //     if (confirm('are you sure to want to delete data')) {
        //         $.ajax({

        //             url: '/Home/Delete/' + Id,
        //             type: 'POST',
        //             success: function () {
        //                 location.reload();
        //             },
        //             error: function () {

        //                 alert('an error occoured while deleteing the item');

        //             },

        //         });
        //     };
        // };




        function DropDown() {
            let CountryName = document.getElementById("From");
            let stateName = document.getElementById("To");
            let CityName = document.getElementById("Trainno");
            let seat = document.getElementById("Seat");
            let travel = document.getElementById("travel");

            var cityNameArray = new Array();

            for (i = 0; i < CityName.options.length; i++) {
                let temp = CityName.options[i].text;
                cityNameArray[i] = temp;
            }



            var countryText = CountryName.options[CountryName.selectedIndex].text;
            var stateText = stateName.options[stateName.selectedIndex].text;

            var cityText = CityName.options[CityName.selectedIndex].text;
            var seatData = seat.options[seat.selectedIndex].text;
            var date = travel.value;




            // let table = document.getElementById("tbl");
            // let newRow = table.insertRow(table.rows.length);

            const data = [{

                "from": countryText,
                "to": stateText,
                "trainno": cityNameArray,
                "seat": seatData,
                "date": date
            }];

            gridOptions.api.setRowData(data);

            // newRow.insertCell(0).innerHTML = countryText;
            // newRow.insertCell(1).innerHTML = stateText;
            // newRow.insertCell(2).innerHTML = cityNameArray;
            // newRow.insertCell(3).innerHTML = seatData;
            // newRow.insertCell(4).innerHTML = date;

        }





    </script>

</body>
</html>
